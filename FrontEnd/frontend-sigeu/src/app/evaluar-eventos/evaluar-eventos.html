<div class="contenedor">
  <div class="encabezado">
    <h2>Evaluar Eventos</h2>
    <button class="btn-notificaciones" (click)="mostrarNotificaciones()">
      üîî Notificaciones ({{notificaciones.length}})
    </button>
  </div>

  <div *ngIf="mostrarNotificaciones" class="panel-notificaciones">
    <h3>Notificaciones recientes</h3>
    <ul>
      <li *ngFor="let noti of notificaciones">
        <strong>{{noti.titulo}}</strong> - {{noti.mensaje}}
      </li>
    </ul>
  </div>

  <div class="filtros">
    <input [(ngModel)]="busqueda" placeholder="Buscar por nombre..." />
    <select [(ngModel)]="filtroEstado">
      <option value="">Todos los estados</option>
      <option value="pendiente">Pendiente</option>
      <option value="aprobado">Aprobado</option>
      <option value="rechazado">Rechazado</option>
    </select>
  </div>

  <table class="tabla-eventos">
    <thead>
      <tr>
        <th>C√≥digo</th>
        <th>Nombre</th>
        <th>Tipo</th>
        <th>Fecha</th>
        <th>Organizador</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let evento of eventosFiltradosList()">
        <td>{{evento.codigo}}</td>
        <td>{{evento.nombre}}</td>
        <td>{{evento.tipo}}</td>
        <td>{{evento.fecha}}</td>
        <td>{{evento.organizador}}</td>
        <td>{{evento.estado}}</td>
        <td>
          <button (click)="verDetalles(evento)">üëÅ Ver m√°s</button>
          <button (click)="abrirModalEvaluacion(evento)">‚úÖ Evaluar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="paginacion">
    <button (click)="paginaAnterior()" [disabled]="paginaActual===1">Anterior</button>
    <span>P√°gina {{paginaActual}} de {{totalPaginas}}</span>
    <button (click)="paginaSiguiente()" [disabled]="paginaActual===totalPaginas">Siguiente</button>
  </div>

  <!-- Modal Ver M√°s -->
  <div class="modal" *ngIf="modalVerMasVisible">
    <div class="contenido-modal">
      <h3>Detalles del Evento</h3>
      <p><strong>Nombre:</strong> {{detallesEvento?.nombre}}</p>
      <p><strong>Descripci√≥n:</strong> {{detallesEvento?.descripcion}}</p>
      <p><strong>Fecha:</strong> {{detallesEvento?.fecha}}</p>
      <button (click)="cerrarModalVerMas()">Cerrar</button>
    </div>
  </div>

  <!-- Modal Evaluaci√≥n -->
  <div class="modal" *ngIf="modalEvaluarVisible">
    <div class="contenido-modal">
      <h3>Evaluar evento</h3>
      <p>¬øDeseas aprobar o rechazar el evento <b>{{eventoSeleccionado?.nombre}}</b>?</p>
      <select [(ngModel)]="decision">
        <option value="">Selecciona una opci√≥n</option>
        <option value="aprobado">Aprobar</option>
        <option value="rechazado">Rechazar</option>
      </select>
      <div class="botones">
        <button (click)="confirmarEvaluacion()">Confirmar</button>
        <button (click)="cerrarModalEvaluacion()">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Mensaje -->
  <div class="mensaje" *ngIf="mensajeVisible">
    <p>{{mensajeTexto}}</p>
    <button (click)="cerrarMensaje()">Cerrar</button>
  </div>
</div>

